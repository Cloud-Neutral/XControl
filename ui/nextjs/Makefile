# Makefile for Next.js on macOS

# Node.js ç‰ˆæœ¬æ ¡éªŒï¼ˆå¯é€‰ï¼‰
NODE_VERSION := $(shell node -v 2>/dev/null)
YARN := $(shell command -v yarn 2>/dev/null)

.PHONY: init build run export clean info

init:
@echo "ğŸ”§ Installing dependencies..."
ifeq ($(YARN),)
@echo "âš ï¸  Yarn not found. Installing via Homebrew..."
brew install yarn
endif
yarn install

build:
@echo "ğŸ”¨ Building Next.js project..."
yarn build

run:
@echo "ğŸš€ Starting local dev server..."
yarn dev

export:
@echo "ğŸ“¦ Exporting static site to ./out ..."
yarn build && yarn export

clean:
@echo "ğŸ§¹ Cleaning build artifacts..."
rm -rf .next out

info:
@echo "ğŸ§¾ Current Node.js version: $(NODE_VERSION)"

